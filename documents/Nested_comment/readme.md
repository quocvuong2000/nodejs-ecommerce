Nhưng em có thắc mắc này công nhận cái Nested Set Model việc tìm kiếm rất là nhanh và hiệu quả bởi vì  mỗi comment được biểu diễn bằng hai giá trị (left và right) để tìm tất cả comment con của một comment chỉ cần tìm các comment có giá trị comment_left lớn hơn comment_left của comment cha và comment_right nhỏ hơn comment_right của comment cha là tìm đc thằng con nhanh chóng. Nhưng thắc mắc ở chỗ này việc cập nhật, thêm, xóa, với bài toàn lớn hàng trăm, triệu record thì cái việc cập nhật cây khi thêm hoặc xoá comment có thể rất tốn kém. Với mỗi thao tác thêm hoặc xoá comment  cần phải cập nhật giá trị comment_left và comment_right của hàng triệu comment khác. Việc di chuyển các nhánh trong cây cũng là một thao tác tốn kém, vì  cần phải cập nhật giá trị comment_left và comment_right của tất cả các comment trong nhánh cũng như của các comment khác trong cây. Mong anh giải đáp thắc mắc ạ. Bài giảng rất hay ạ em học thêm đc 1 thuật toán mới.


Em chào thầy, cá nhân em cảm thấy cách này không khả dụng khi ứng dụng vào trong những CSDL quan hệ mà chưa tới hàng triệu bản ghi hoặc nhiều hơn ạ. Chỉ cần insert thêm một bản ghi thôi thì right value và left value sẽ phải đánh lại. Kể cả có dùng batch insert thì em cũng không nghĩ sẽ tối ưu cho hệ thống. Em đề xuất mình dùng Materialised Path Model có lẽ sẽ tốt hơn ạ. Mình sẽ có 1 field là path dẫn tới node đó. Như vậy thì khi insert hay delete thì sẽ không ảnh hưởng tới performance của hệ thống. Thầy và mọi người thấy sao ạ?

